<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <body>

        <ui:composition template="./../../plantillas/plantilla.xhtml">

            <ui:define name="titulo">
                Editar paciente
            </ui:define>

            <ui:define name="css">

            </ui:define>

            <ui:define name="contenido">

                <h:form>
                    <p:growl id="growl" showDetail="true" sticky="true" /> 
                    <p:fieldset legend="Editar Paciente" style="font-size: 15px; font-weight: bold;" >
                        <p:panelGrid columns="4" >

                            <p:outputLabel for="nombrePa" value="Nombre" />
                            <p:inputText id="nombrePa" 
                                         value="#{pacienteEditarManagedBean.pacienteEntity.idPersona.nombrePersona}"   
                                         size="30" required="true"/>

                            <p:outputLabel for="apellidoPa" value="Apellido"/>
                            <p:inputText id="apellidoPa" value="#{pacienteEditarManagedBean.pacienteEntity.idPersona.apellidoPersona}"   
                                         size="30" required="true"/>

                            <p:outputLabel for="telefono1Pa" value="Telefono"/>
                            <p:inputMask id="telefono1Pa" value="#{pacienteEditarManagedBean.pacienteEntity.idPersona.telefono}"  
                                         mask="9999-9999" size="30" required="true"/>

                            <p:outputLabel for="telefono2Pa"  value="Telefono  (Opcional)"/>
                            <p:inputMask  id="telefono2Pa" value="#{pacienteEditarManagedBean.pacienteEntity.idPersona.telefonoOpcional}" 
                                          mask="9999-9999" size="30"/>

                            <p:outputLabel for="duiPa" value="Dui"/>
                            <p:inputMask id="duiPa" value="#{pacienteEditarManagedBean.pacienteEntity.idPersona.dui}"  
                                         mask="9999999-9" size="30" required="true"/>

                            <p:outputLabel for="fechaNacimientoPa" value="Fecha de Nacimiento"/>
                            <p:calendar   value="#{pacienteEditarManagedBean.pacienteEntity.idPersona.fechaNacimiento}"
                                          id="fechaNacimientoPa" placeholder="dd/MM/yyyy" 
                                          locale="es"  pattern="dd/MM/yyyy" 
                                          required="true" size="30"/>

                            <p:outputLabel value="Sexo" for="generoPa"/>
                            <p:selectOneRadio id="generoPa" value="#{pacienteEditarManagedBean.pacienteEntity.idPersona.genero}" 
                                              label="Genero" required="true">
                                <f:selectItem itemLabel="Masculino" itemValue="Masculino"/>
                                <f:selectItem itemLabel="Femenino" itemValue="Femenino" />
                            </p:selectOneRadio>

                            <p:outputLabel value="Estado Paciente en la institucion" />
                            <p:selectBooleanCheckbox value="#{pacienteEditarManagedBean.pacienteEntity.idPersona.estadoPersonal}"  
                                                     itemLabel="Activo" />
                        </p:panelGrid>
                    </p:fieldset><br></br>

                    <h6><strong>DATOS DEL RESPONSABLE</strong></h6>
                    <p:fieldset  style="font-size: 15px; font-weight: bold;" >
                        <p:panelGrid columns="4"  >

                            <p:outputLabel for="nombreResponsable" value="Nombre del Responsable" />
                            <p:inputText id="nombreResponsable" value="#{pacienteEditarManagedBean.pacienteEntity.nombreResponsable}"  size="30" required="true"/>

                            <p:outputLabel for="telefonoResponsable" value="Telefono del Responsable"/>
                            <p:inputMask id="telefonoResponsable" value="#{pacienteEditarManagedBean.pacienteEntity.telefonoEmergencia}"   
                                         mask="9999-9999" size="15" required="true"/>

                            <p:outputLabel for="vinculoResponsable" value="Apellido"/>
                            <p:inputText id="vinculoResponsable" value="#{pacienteEditarManagedBean.pacienteEntity.vinculoResponsable}"   
                                         size="30" required="true"/>



                        </p:panelGrid>
                    </p:fieldset><br></br>


                   
                    &nbsp;&nbsp; <p:commandButton value="Modificar" actionListener="#{pacienteEditarManagedBean.updatePaciente()}" update="@form">
                        <p:confirm header="Confirmation" message="Â¿Estas seguro de modificar al paciente?" icon="pi pi-exclamation-triangle" />
                    </p:commandButton>

                    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                        <p:commandButton value="SI" type="button" styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
                        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="pi pi-times" />
                    </p:confirmDialog> 
                    &nbsp;&nbsp;<p:linkButton outcome="/admin/paciente/pacienteListar.xhtml" value="Cancelar" />

                    
                </h:form>


            </ui:define>

            <ui:define name="scripts">
                <h:outputScript name="js/spanishLocale.js"/>
            </ui:define>

        </ui:composition>

    </body>
</html>
