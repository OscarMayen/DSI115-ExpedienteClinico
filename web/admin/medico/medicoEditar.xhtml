<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <body>

        <ui:composition template="./../../plantillas/plantilla.xhtml">

            <ui:define name="titulo">
                Editar médico
            </ui:define>

            <ui:define name="css">
                <style>
                    .btn{

                        margin-top: 2%;
                        margin-bottom: 2%;

                    }

                    #btn{
                        margin-left: 35%;
                    }
                </style>
                <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"/>
                <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
                <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
                <script src="../../resources/js/spanishLocale.js" type="text/javascript"></script>
            </ui:define>

            <ui:define name="contenido">
                <div class="col-md-8 offset-md-2"> 
                    <h2>Editar médico</h2>
                    <h:panelGroup layout="block" class="alert-danger" rendered="#{not empty facesContext.messageList}">
                        <h:messages />
                    </h:panelGroup>
                    <h:form>
                        <div style="width: 100%; height: 20px; border-bottom: 1px solid black; margin-top: 3%; margin-bottom: 3%; text-align: center">
                            <span style="font-size: 1.5em; background-color: #F3F5F6; padding: 0 10px;">
                                Datos personales <!--Padding is optional-->
                            </span>
                        </div>
                        <div class="form-group">

                            <label for="nombresMEdicoE">Nombre</label>
                            <h:inputText  value="#{usuarioMedicoBean.medico.idPersona.nombrePersona}" title="nombresMEdicoE"
                                          class="form-control" id="nombresMEdicoE" 
                                          required="true" requiredMessage="El campo nombres es obligatiorio"/>
                        </div>

                        <div class="form-group">

                            <label for="apellidoMedicoE">Apellidos</label>
                            <h:inputText  value="#{usuarioMedicoBean.medico.idPersona.apellidoPersona}" title="apellidoMedicoE"
                                          class="form-control" id="apellidoMedicoE" 
                                          required="true" requiredMessage="El campo apellidos es obligatorio."/>
                        </div>
                        <div class="form-group">
                            <label for="telefonoMedicoE">Telefono</label>
                            <h:inputText value="#{usuarioMedicoBean.medico.idPersona.telefono}" title="telefonoMedicoE"
                                         class="form-control" id="telefonoMedicoE" maxlength="9" 
                                         required="true" requiredMessage="El campo telefono es obligatorio"
                                         validatorMessage="Telefono con formato incorrecto, debe tener el siguiente formato: 2222-2222" >
                                <f:validateRegex pattern="[267][0-9]{3}-[0-9]{4}"/>
                            </h:inputText>
                        </div>

                        <div class="form-group">
                            <label for="sexoMedicoE">Sexo</label>
                            <h:selectOneRadio value="#{usuarioMedicoBean.medico.idPersona.genero}" title="sexoMedicoE" 
                                              id="sexoMedicoE" required="true" requiredMessage="El campo sexo es obligatorio.">
                                <f:selectItem itemValue="Masculino" itemLabel="MASCULINO "/>
                                <f:selectItem itemValue="Femenino" itemLabel="FEMENINO "/>
                            </h:selectOneRadio>
                        </div>

                        <div class="form-group">
                            <label for="duiMedicoE">Dui</label>
                            <h:inputText value="#{usuarioMedicoBean.medico.idPersona.dui}" title="duiMedicoE"
                                         class="form-control" id="duiMedicoE" 
                                         maxlength="10" validatorMessage="Dui con formato incorrecto, debe tener el siguiente formato: 12345678-1" 
                                         required="true" requiredMessage="El campo dui es obligatorio.">
                                 <f:validateRegex pattern="[0-9]{8}-[0-9]{1}" />
                            </h:inputText>
                        </div>
                        <div class="form-group">
                            <label for="fechaNacimientoMedicoE">Fecha de nacimiento </label><br/>
                            <p:calendar id="fechaNacimientoMedicoE" value="#{usuarioMedicoBean.medico.idPersona.fechaNacimiento}" 
                                        title="fechaNacimientoMedicoE" placeholder="dd/MM/yyyy" 
                                        locale="es"  pattern="dd/MM/yyyy" 
                                        required="true" requiredMessage="El campo fecha de nacimiento es obligatorio."/>
                        </div>

                        <div style="width: 100%; height: 20px; border-bottom: 1px solid black; margin-top: 3%; margin-bottom: 3%; text-align: center">
                            <span style="font-size: 1.5em; background-color: #F3F5F6; padding: 0 10px;">
                                Datos del médico <!--Padding is optional-->
                            </span>
                        </div>

                        
                        <h4>Especialidades del médico</h4>

                        <p:selectManyCheckbox id="grid" value="#{usuarioMedicoBean.especilidadesSeleccionadas}" layout="responsive" columns="3">
                            <f:selectItems value="#{usuarioMedicoBean.medico.especialidadEntityList}" var="esp" itemLabel="#{esp.nombreEspecialidad}" itemValue="#{esp}" />
                        </p:selectManyCheckbox>

                        <h4>Redes sociales</h4>
                        
                        <div class="form-group">
                            <label for="redSocialFacebook">Facebook(url):</label>
                            <h:inputText value="#{usuarioMedicoBean.facebook.url}" title="redSocialFacebook"
                                         class="form-control" id="redSocialFacebook" />
                        </div>
                        <div class="form-group">
                            <label for="redSocialTwitter">Twitter(url):</label>
                            <h:inputText value="#{usuarioMedicoBean.twitter.url}" title="redSocialTwitter"
                                         class="form-control" id="redSocialTwitter"/>
                        </div>
                        
                        
                        <div class="form-group">
                            <label for="redSocialGmail">Gmail(url):</label>
                            <h:inputText value="#{usuarioMedicoBean.gmail.url}" title="redSocialGmail"
                                         class="form-control" id="redSocialGmail"/>
                        </div>

                        <h:commandButton value="Guardar" action="#{usuarioMedicoBean.updateMedico()}" class="btn btn-success"/>&nbsp;&nbsp;
                        <h:link outcome="/admin/medico/medicoListar" value="Cancelar" class="btn btn-danger"/>
                    </h:form>

                </div>
            </ui:define>
            <ui:define name="scripts">
                <h:outputScript name="js/spanishLocale.js"/>
            </ui:define>
        </ui:composition>

    </body>
</html>
