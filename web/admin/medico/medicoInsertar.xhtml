<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <body>

        <ui:composition template="./../../plantillas/plantilla.xhtml">

            <ui:define name="titulo">
                Nuevo médico
            </ui:define>
            <ui:define name="contenido">
                 <h2>Nuevo Medico</h2>
                 
                 <h:form id="formNuevoMedico">

                    <p:growl id="growl" showDetail="true" sticky="true" /> 
                    <p:fieldset legend="Nuevo Medico" style="font-size: 15px; font-weight: bold;" >
                        <p:panelGrid columns="4" >

                            <p:outputLabel for="nombreMed" value="Nombre" />
                            <p:inputText id="nombreMed" value="#{usuarioMedicoBean.persona.nombrePersona}"   
                                         size="30" required="true"/>

                            <p:outputLabel for="apellidoMed" value="Apellido"/>
                            <p:inputText id="apellidoMed" value="#{usuarioMedicoBean.persona.apellidoPersona}"    
                                         size="30" required="true"/>

                            <p:outputLabel for="telefono1Med" value="Telefono"/>
                            <p:inputMask id="telefono1Med" value="#{usuarioMedicoBean.persona.telefono}"   
                                         mask="9999-9999" size="30" required="true"/>

                        
                            <p:outputLabel for="duiMed" value="Dui"/>
                            <p:inputMask id="duiMed" value="#{usuarioMedicoBean.persona.dui}"   
                                         mask="99999999-9" size="30" required="true"/>

                            <p:outputLabel for="fechaNacimientoMed" value="Fecha de Nacimiento"/>
                            <p:calendar   value="#{usuarioMedicoBean.persona.fechaNacimiento}" 
                                          id="fechaNacimientoMed" placeholder="dd/MM/yyyy" 
                                          locale="es"  pattern="dd/MM/yyyy" 
                                          required="true" size="30"/>

                            <p:outputLabel value="Sexo" for="generoMed"/>
                            <p:selectOneRadio id="generoMed" value="#{usuarioMedicoBean.persona.genero}"  
                                              label="Genero" required="true">
                                <f:selectItem itemLabel="Masculino" itemValue="Masculino"/>
                                <f:selectItem itemLabel="Femenino" itemValue="Femenino" />
                            </p:selectOneRadio>

                            <p:outputLabel value="Estado Medico en la institucion" />
                            <p:selectBooleanCheckbox value="#{usuarioMedicoBean.persona.estadoPersonal}"   
                                                     itemLabel="Activo" />
                        </p:panelGrid>
                    </p:fieldset><br></br>

                    <h6><strong>DATOS DEL MEDICO</strong></h6>
                    
                    <h6><strong>Especialidades del medico</strong></h6>
                    <p:fieldset>                        
                        <p:selectManyCheckbox id="grid" value="#{usuarioMedicoBean.especilidadesSeleccionadas}" layout="responsive" columns="3">
                        <f:selectItems value="#{usuarioMedicoBean.especialidadesMedico}" var="esp" itemLabel="#{esp.nombreEspecialidad}" itemValue="#{esp}" />
                        </p:selectManyCheckbox>                        
                    </p:fieldset><br></br>
                    
                    <h6><strong>Redes sociales</strong></h6>
                    <p:fieldset  style="font-size: 15px; font-weight: bold;" >
                        <p:panelGrid columns="4"  >

                            <p:outputLabel for="redSocialFacebook" value="Facebook(url):" />
                            <p:inputText id="redSocialFacebook" value="#{usuarioMedicoBean.facebook.url}"  size="30" required="true"/>
                            
                            <p:outputLabel for="redSocialTwitter" value="Twitter(url):" />
                            <p:inputText id="redSocialTwitter" value="#{usuarioMedicoBean.twitter.url}"  size="30" required="true"/>
                            
                            <p:outputLabel for="redSocialGmail" value="Gmail(url):" />
                            <p:inputText id="redSocialGmail" value="#{usuarioMedicoBean.gmail.url}" required="true"/>
                                                        

                            
                        </p:panelGrid>
                    </p:fieldset><br></br>
                    
                    <h6><strong>Datos de usuario</strong></h6>
                    <p:fieldset>
                        <p:panelGrid columns="4">
                             <p:outputLabel for="username" value="Usuario" />
                            <p:inputText id="username" value="#{usuarioMedicoBean.usuario.username}"  size="30" required="true"/>

                            <p:outputLabel for="contrasenia" value="Contraseña"/>
                            <p:password id="contrasenia" value="#{usuarioMedicoBean.usuario.password}"   
                                        size="15" required="true"/>

                            <p:outputLabel value="Seleccione el Rol" />
                            <p:selectOneMenu id="rolUsu" value="#{usuarioMedicoBean.usuario.idRol}">
                                <f:selectItem
                                    itemValue="#{usuarioMedicoBean.getRolMedico()}"
                                    itemLabel="#{usuarioMedicoBean.getRolMedico().nombreRol}"/>
                                                />
                            </p:selectOneMenu>

               
                        </p:panelGrid>
                    </p:fieldset>
                    <p:commandButton value="Guardar" action="#{usuarioMedicoBean.insertarUsuarioMedico()}" update="@form" /> 
                    <p:linkButton outcome="/admin/medico/medicoListar.xhtml" value="Cancelar" />


                </h:form>
            </ui:define>
         
        </ui:composition>

    </body>
</html>
